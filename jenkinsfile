pipeline {
    agent {
        label 'docker'
    }
    environment {
        test = "test"
    }
    
    options {
        disableConcurrentBuilds()
        skipStagesAfterUnstable()        
    }
    
    parameters {
        string(name:'repository', defaultValue: '${env.repository}', description: 'Git Repository')        
    }
    
    stages {        
        stage('Checkout') {            
            steps {          
                git '${repository}'
                echo "step 1"
            }
            post {
            success {
                echo "success"
                   }            
            failure {                    
                echo "failure"
            }
           }
        }      
}
    }
