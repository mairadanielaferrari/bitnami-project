pipeline {
    
    agent {
        label 'docker'
    }
    environment {
        test = "test"
    }
    
    options {
        disableConcurrentBuilds()
        skipStagesAfterUnstable()        
    }
    
    parameters {
        string(name:'repository', defaultValue: '${env.repository}', description: 'Git Repository')                
    ]),
    }
    
    stages {        
        stage('Checkout') {            
            steps {
               script {
                    env.version = input id: 'dev_review_step', message: 'Developer\'s Review ok?', ok: 'Team Lead Approval Request',
                                      parameters: [ [$class: 'GitParameterDefinition', branch: '', branchFilter: '.*', defaultValue: '', description: 'description', name: 'BRANCH_PARAM',quickFilterEnabled: false,  selectedValue: 'NONE', sortMode: 'NONE',tagFilter: '*', type: 'PT_BRANCH']]"
               }
        
                git '${repository}'
                echo "step 1"                
            }
            post {
            success {
                echo "success"
                   }            
            failure {                    
                echo "failure"
            }
           }
        }      
}
    }
