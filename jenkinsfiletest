properties([parameters([[$class: 'GitParameterDefinition', branch: '', branchFilter: 'master', defaultValue: '', description: 'Release to build', name: 'Version', quickFilterEnabled: false, selectedValue: 'NONE', sortMode: 'NONE', tagFilter: '*-r*', type: 'PT_TAG', useRepository: 'https://github.com/Bitnami/bitnami-docker-*']]), pipelineTriggers([])])

pipeline {
    agent any
     environment {
        COMPOSE_FILE = 'docker-compose.yml'
   }
    stages {
        stage('Build') {
            steps {                
                echo 'Building.. yeah!' 
                sh 'docker-compose up -d'
                sh 'docker-compose ps'
                sh 'docker-compose down'                
      
            }
        }
        stage('Test') {
            steps {
                echo 'Testing..'
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying....'
            }
        }
    }
}
